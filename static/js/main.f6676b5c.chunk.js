(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{14:function(e,t,o){},15:function(e,t,o){},16:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),r=o(8),c=o.n(r),l=(o(14),o(15),o(6)),s=o(1),i=o(2),d=o(3),u=o(5),f=o(4),m=function(){return n.a.createElement("header",{className:"header"},n.a.createElement("h1",null,"todos"))},p=function(e){Object(u.a)(o,e);var t=Object(f.a)(o);function o(){var e;Object(i.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={newTodoValue:"",errorAddNewTodo:!1},e.writeNewTodo=function(t){var o=e.state,a=o.errorAddNewTodo,n=o.newTodoValue;e.setState({newTodoValue:t.target.value}),n.length>=2&&a&&e.setState({errorAddNewTodo:!1})},e.submitTodo=function(t){var o=e.props.validation,a=e.state.newTodoValue;t.preventDefault(),o(a),a.length>=3?e.setState((function(){return{newTodoValue:""}})):e.setState({errorAddNewTodo:!0})},e}return Object(d.a)(o,[{key:"render",value:function(){var e=this.state,t=e.newTodoValue,o=e.errorAddNewTodo,a=this.props,r=a.todos,c=a.selectAllTodo,l=a.selectAll;return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:this.submitTodo,className:"formAddTodo"},r.length>=1&&n.a.createElement("button",{type:"button",className:l?"buttonSelectAll act":"buttonSelectAll dis",onClick:function(){return c()}},"\u276f"),n.a.createElement("input",{className:o?"new-todo new-todo__error":"new-todo",placeholder:"What needs to be done?",value:t,onChange:this.writeNewTodo})))}}]),o}(n.a.Component),h=function(e){Object(u.a)(o,e);var t=Object(f.a)(o);function o(){var e;Object(i.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={editingId:"",editValue:"",errorAddNewValue:!1},e.editingValue=function(t,o){e.setState((function(){return{editingId:t,editValue:o}}))},e.changeTodoValue=function(t){e.setState({editValue:t.target.value})},e.saveOrCancel=function(t){var o=e.props.changeTodoValue,a=e.state,n=a.editingId,r=a.editValue;r.length>=3&&e.setState({errorAddNewValue:!1}),"Enter"===t.key&&r.length>=3?(o(n,r),e.setState((function(){return{editingId:"",editValue:""}}))):"Enter"===t.key&&r.length<3&&e.setState({errorAddNewValue:!0}),"Escape"===t.key&&e.setState({editingId:"",editValue:"",errorAddNewValue:!1})},e}return Object(d.a)(o,[{key:"render",value:function(){var e=this,t=this.props,o=t.list,a=t.changeStatusComplete,r=t.destroyTodo,c=this.state,l=c.editingId,s=c.editValue,i=c.errorAddNewValue;return n.a.createElement("ul",{className:"todo-list"},o.map((function(t){var o;return o=l===t.id?"editing":t.completed?"completed":"",n.a.createElement("li",{onDoubleClick:function(){return e.editingValue(t.id,t.value)},className:o},n.a.createElement("div",{className:"view",key:t.id},n.a.createElement("input",{type:"checkbox",className:"toggle",id:"todo-".concat(t.id),checked:t.completed,onChange:function(){return a(t.id)}}),n.a.createElement("label",{htmlFor:"todo-".concat(t.id)},t.value),n.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return r(t.id)}})),n.a.createElement("input",{type:"text",className:i?"edit new-todo__error":"edit",value:s,onChange:e.changeTodoValue,onKeyDown:e.saveOrCancel}))})))}}]),o}(n.a.Component),g=function(e){Object(u.a)(o,e);var t=Object(f.a)(o);function o(){return Object(i.a)(this,o),t.apply(this,arguments)}return Object(d.a)(o,[{key:"render",value:function(){var e=this.props,t=e.todos,o=e.activeList,a=e.changePage,r=e.clearCompletedTodo;return n.a.createElement("footer",{className:"footer"},n.a.createElement("span",{className:"todo-count"},t.filter((function(e){return!e.completed})).length," ","items left"),n.a.createElement("ul",{className:"filters"},["all","active","completed"].map((function(e){return n.a.createElement("li",null,n.a.createElement("a",{href:"#/".concat(e),className:o===e?"selected":"",onClick:function(){return a(e)}},e))}))),n.a.createElement("button",{type:"button",className:"clear-completed",onClick:function(){return r()}},"Clear completed"))}}]),o}(n.a.PureComponent),v=function(e){Object(u.a)(o,e);var t=Object(f.a)(o);function o(){var e;Object(i.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={todos:[],activeTodo:[],completedTodo:[],activeList:"all",currentId:1,selectAll:!1,firstStart:!0},e.validation=function(t){t.length>=3&&e.addTodo(t)},e.addTodo=function(t){var o=e.state.currentId,a={};a.value=t,a.id=o,a.completed=!1,localStorage.setItem("".concat(o),JSON.stringify(Object(s.a)({},a))),e.setState((function(e){return{todos:[].concat(Object(l.a)(e.todos),[a]),activeTodo:[].concat(Object(l.a)(e.activeTodo),[a]),currentId:e.currentId+1,selectAll:!1}}))},e.choosePage=function(t){var o=e.state,a=o.todos,n=o.activeTodo,r=o.completedTodo;switch(t){case"all":return a;case"active":return n;case"completed":return r;default:return a}},e.changeStatusComplete=function(t){e.setState((function(e){return{todos:e.todos.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{completed:e.id===t?!e.completed:e.completed})}))}}),(function(){localStorage.clear(),e.state.todos.forEach((function(e,t){return localStorage.setItem("".concat(t+1),JSON.stringify(Object(s.a)({},e)))})),e.filterTodos()}))},e.destroyTodo=function(t){var o=e.state.todos.filter((function(e){return e.id!==t}));localStorage.removeItem("".concat(t)),e.setState((function(){return{todos:o}})),setTimeout((function(){if(localStorage.clear(),e.state.todos.forEach((function(e,t){return localStorage.setItem("".concat(t+1),JSON.stringify(Object(s.a)({},e)))})),e.state.todos.length){var t=e.state.todos.length-1,o=e.state.todos[t].id+1;e.setState({currentId:o})}else e.setState({currentId:1});e.filterTodos()}),0)},e.changePage=function(t){e.setState({activeList:t})},e.filterTodos=function(){e.setState((function(e){return{activeTodo:e.todos.filter((function(e){return!e.completed})),completedTodo:e.todos.filter((function(e){return e.completed}))}}),(function(){var t=e.state,o=t.todos,a=t.completedTodo;o.length===a.length?e.setState((function(){return{selectAll:!0}})):e.setState((function(){return{selectAll:!1}}))}))},e.clearCompletedTodo=function(){var t=e.state.todos.filter((function(e){return!e.completed}));e.setState((function(){return{todos:t,completedTodo:[]}}))},e.selectAllTodo=function(){var t=e.state.selectAll;e.setState((function(e){return{todos:Object(l.a)(e.todos.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{completed:!t})}))),selectAll:!e.selectAll}})),e.filterTodos()},e.changeTodoValue=function(t,o){var a=e.state.todos;e.setState((function(){return{todos:a.map((function(e){return Object(s.a)(Object(s.a)({},e),{},{value:e.id===t?o:e.value})}))}}),(function(){localStorage.clear(),e.state.todos.forEach((function(e,t){return localStorage.setItem("".concat(t+1),JSON.stringify(Object(s.a)({},e)))}))}))},e.valueOfLocalStorage=function(){for(var t=[],o=1;o<localStorage.length+1;o+=1){var a=JSON.parse(localStorage.getItem("".concat(o)));a&&t.push(a)}if(t.length){var n=t.map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{id:t+1})})),r=n[n.length-1].id+1;e.setState((function(){return{todos:n,currentId:r}})),e.filterTodos()}},e}return Object(d.a)(o,[{key:"componentDidMount",value:function(){localStorage.setItem("".concat(0),JSON.stringify({startItem:"startItem"}))}},{key:"render",value:function(){var e=this.state,t=e.errorIncorrectlyInput,o=e.activeList,a=e.todos,r=e.selectAll,c=e.firstStart,l=this.choosePage(o);return c&&(this.valueOfLocalStorage(),this.setState({firstStart:!1})),n.a.createElement("section",{className:"todoapp"},n.a.createElement(m,null),n.a.createElement(p,{validation:this.validation,errorIncorrectlyInput:t,todos:a,selectAllTodo:this.selectAllTodo,selectAll:r}),n.a.createElement(h,{list:l,changeStatusComplete:this.changeStatusComplete,destroyTodo:this.destroyTodo,changeTodoValue:this.changeTodoValue}),this.state.todos.length>=1&&n.a.createElement(g,{changePage:this.changePage,todos:a,activeList:o,clearCompletedTodo:this.clearCompletedTodo}))}}]),o}(n.a.Component);c.a.render(n.a.createElement(v,null),document.getElementById("root"))},9:function(e,t,o){e.exports=o(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.f6676b5c.chunk.js.map