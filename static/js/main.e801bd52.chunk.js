(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{10:function(t,e,o){t.exports=o(17)},15:function(t,e,o){},16:function(t,e,o){},17:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),r=o(8),c=o.n(r),l=(o(15),o(16),o(6)),i=o(1),d=o(2),u=o(3),s=o(5),f=o(4),m=function(){return n.a.createElement("header",{className:"header"},n.a.createElement("h1",null,"todos"))},p=function(t){Object(s.a)(o,t);var e=Object(f.a)(o);function o(){var t;Object(d.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={newTodoValue:"",errorAddNewTodo:!1},t.writeNewTodo=function(e){var o=t.state,a=o.errorAddNewTodo,n=o.newTodoValue,r=e.target.value.replace(/^ /,"");t.setState({newTodoValue:r}),n.length>=2&&a&&t.setState({errorAddNewTodo:!1})},t.submitTodo=function(e){var o=t.props.validationInput,a=t.state.newTodoValue;e.preventDefault(),o(a),a.length>=3?t.setState((function(){return{newTodoValue:""}})):t.setState({errorAddNewTodo:!0})},t}return Object(u.a)(o,[{key:"render",value:function(){var t=this.state,e=t.newTodoValue,o=t.errorAddNewTodo,a=this.props,r=a.todos,c=a.selectAllTodo,l=a.selectAll;return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",{onSubmit:this.submitTodo,className:"formAddTodo"},r.length>=1&&n.a.createElement("button",{type:"button",className:l?"buttonSelectAll act":"buttonSelectAll dis",onClick:function(){return c()}},"\u276f"),n.a.createElement("input",{className:o?"new-todo new-todo__error":"new-todo",placeholder:"What needs to be done?",value:e,onChange:this.writeNewTodo})))}}]),o}(n.a.Component),h=o(9),g=o.n(h),v=function(t){Object(s.a)(o,t);var e=Object(f.a)(o);function o(){var t;Object(d.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={editingId:"",editValue:"",inputError:!1},t.editTodoValue=function(e,o){t.setState((function(){return{editingId:e,editValue:o}}))},t.changeTodoValue=function(e){var o=e.target.value.replace(/^ /,"");t.setState({editValue:o})},t.handleLostFocus=function(){var e=t.props.changeTodoValue;t.setState((function(t){var o=!1;return t.editValue.length<3?{inputError:o=!0}:(e(t.editingId,t.editValue),{inputError:o,editingId:"",editValue:""})}))},t.handleTodoInput=function(e){var o=t.props.changeTodoValue,a=e.key;t.setState((function(t){return"Enter"===a&&t.editValue.length>=3?(o(t.editingId,t.editValue),{editingId:"",editValue:"",inputError:!1}):"Enter"===a&&t.editValue.length<3?{inputError:!0}:"Escape"===a?{editingId:"",editValue:"",inputError:!1}:t.editValue.length>=3?{inputError:!1}:void 0}))},t}return Object(u.a)(o,[{key:"render",value:function(){var t=this,e=this.props,o=e.list,a=e.changeStatusComplete,r=e.destroyTodo,c=this.state,l=c.editingId,i=c.editValue,d=c.inputError;return n.a.createElement("ul",{className:"todo-list"},o.map((function(e){return n.a.createElement("li",{onDoubleClick:function(){return t.editTodoValue(e.id,e.value)},className:g()({editing:l===e.id,completed:l!==e.id&&e.completed,"":l!==e.id&&!e.completed})},n.a.createElement("div",{className:"view",key:e.id},n.a.createElement("input",{type:"checkbox",className:"toggle",id:"todo-".concat(e.id),checked:e.completed,onChange:function(){return a(e.id)}}),n.a.createElement("label",{htmlFor:"todo-".concat(e.id)},e.value),n.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return r(e.id)}})),n.a.createElement("input",{type:"text",className:d?"edit new-todo__error":"edit",value:i,onChange:t.changeTodoValue,onKeyDown:t.handleTodoInput,onBlur:t.handleLostFocus}))})))}}]),o}(n.a.Component),T=function(t){Object(s.a)(o,t);var e=Object(f.a)(o);function o(){return Object(d.a)(this,o),e.apply(this,arguments)}return Object(u.a)(o,[{key:"render",value:function(){var t=this.props,e=t.activeList,o=t.changePage,a=t.clearCompletedTodo,r=t.lengthItemsLeft;return n.a.createElement("footer",{className:"footer"},n.a.createElement("span",{className:"todo-count"},r," ","items left"),n.a.createElement("ul",{className:"filters"},["all","active","completed"].map((function(t){return n.a.createElement("li",null,n.a.createElement("a",{href:"#/".concat(t),className:e===t?"selected":"",onClick:function(){return o(t)}},t))}))),n.a.createElement("button",{type:"button",className:"clear-completed",onClick:function(){return a()}},"Clear completed"))}}]),o}(n.a.PureComponent),b=function(t){Object(s.a)(o,t);var e=Object(f.a)(o);function o(){var t;Object(d.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={todos:[],activeTodo:[],completedTodo:[],activeList:"all",currentId:1,selectAll:!1},t.validationInput=function(e){e.length>=3&&t.addTodo(e)},t.addTodo=function(e){var o=t.state.currentId,a={};a.value=e,a.id=o,a.completed=!1,localStorage.setItem("".concat(o),JSON.stringify(Object(i.a)({},a))),t.setState((function(t){return{todos:[].concat(Object(l.a)(t.todos),[a]),activeTodo:[].concat(Object(l.a)(t.activeTodo),[a]),currentId:t.currentId+1,selectAll:!1}}))},t.choosePage=function(e){var o=t.state,a=o.todos,n=o.activeTodo,r=o.completedTodo;switch(e){case"all":return a;case"active":return n;case"completed":return r;default:return a}},t.changeStatusComplete=function(e){t.setState((function(t){return{todos:t.todos.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{completed:t.id===e?!t.completed:t.completed})}))}}),(function(){return t.filterTodos()}))},t.destroyTodo=function(e){var o=t.state.todos.filter((function(t){return t.id!==e}));localStorage.removeItem("".concat(e)),t.setState((function(){return{todos:o}})),setTimeout((function(){if(localStorage.clear(),t.state.todos.forEach((function(t,e){return localStorage.setItem("".concat(e+1),JSON.stringify(Object(i.a)({},t)))})),t.state.todos.length){var e=t.state.todos.length-1,o=t.state.todos[e].id+1;t.setState({currentId:o})}else t.setState({currentId:1});t.filterTodos()}),0)},t.changePage=function(e){t.setState({activeList:e})},t.filterTodos=function(){t.setState((function(t){return{activeTodo:t.todos.filter((function(t){return!t.completed})),completedTodo:t.todos.filter((function(t){return t.completed}))}}),(function(){var e=t.state,o=e.todos,a=e.completedTodo;o.length===a.length?t.setState((function(){return{selectAll:!0}})):t.setState((function(){return{selectAll:!1}}))}))},t.clearCompletedTodo=function(){var e=t.state.todos.filter((function(t){return!t.completed}));t.setState((function(){return{todos:e,completedTodo:[]}}))},t.selectAllTodo=function(){var e=t.state.selectAll;t.setState((function(t){return{todos:Object(l.a)(t.todos.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{completed:!e})}))),selectAll:!t.selectAll}})),t.filterTodos()},t.changeTodoValue=function(e,o){var a=t.state.todos;t.setState((function(){return{todos:a.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{value:t.id===e?o:t.value})}))}}),(function(){localStorage.clear(),t.state.todos.forEach((function(t,e){return localStorage.setItem("".concat(e+1),JSON.stringify(Object(i.a)({},t)))}))}))},t.valueOfLocalStorage=function(){for(var e=[],o=1;o<localStorage.length+1;o+=1){var a=JSON.parse(localStorage.getItem("".concat(o)));a&&e.push(a)}if(e.length){var n=e.map((function(t,e){return Object(i.a)(Object(i.a)({},t),{},{id:e+1})})),r=n[n.length-1].id+1;t.setState((function(){return{todos:n,currentId:r}})),t.filterTodos()}},t}return Object(u.a)(o,[{key:"componentDidMount",value:function(){this.valueOfLocalStorage(),localStorage.setItem("".concat(0),JSON.stringify({startItem:"startItem"}))}},{key:"componentDidUpdate",value:function(){localStorage.clear(),this.state.todos.forEach((function(t,e){return localStorage.setItem("".concat(e+1),JSON.stringify(Object(i.a)({},t)))}))}},{key:"render",value:function(){var t=this.state,e=t.activeList,o=t.todos,a=t.selectAll,r=t.activeTodo,c=this.choosePage(e);return n.a.createElement("section",{className:"todoapp"},n.a.createElement(m,null),n.a.createElement(p,{validationInput:this.validationInput,todos:o,selectAllTodo:this.selectAllTodo,selectAll:a}),n.a.createElement(v,{list:c,changeStatusComplete:this.changeStatusComplete,destroyTodo:this.destroyTodo,changeTodoValue:this.changeTodoValue}),this.state.todos.length>=1&&n.a.createElement(T,{lengthItemsLeft:r.length,changePage:this.changePage,todos:o,activeList:e,clearCompletedTodo:this.clearCompletedTodo}))}}]),o}(n.a.Component);c.a.render(n.a.createElement(b,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.e801bd52.chunk.js.map